<Window x:Class="PracticalWork12.windows.ItemWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="clr-namespace:PracticalWork12.Converters"
        Title="Товары" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <local:PhotoConverter x:Key="PhotoConverter"/>
    </Window.Resources>
    
    <Grid Background="White" Cursor="">
        <Button Content="Назад" FontSize="16"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Click="Button_Click"
                Margin="10,10,0,0" Width="80" Height="30"/>

        <Border Grid.Column="0"
        Width="140" Height="140"
        Background="#f0f0f0"
        BorderBrush="#ccc"
        BorderThickness="1.5"
        CornerRadius="8"
        Margin="5"
        Padding="5"
        VerticalAlignment="Center"
        HorizontalAlignment="Center">

            <Image Width="130"
           Height="130"
           Stretch="UniformToFill"
           ClipToBounds="True"
           Source="{Binding Photo, Converter={StaticResource PhotoConverter}}"/>
        </Border>

        <ListView x:Name="ListViewItems" Margin="10,50,10,10"
                  Background="LightGray"
                  ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="Gray" BorderThickness="2" Margin="5" Background="White">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            


                            <!-- Информация о товаре -->
                            <StackPanel Grid.Column="1" Margin="15,0,0,0">
                                
                                <TextBlock FontSize="16" FontWeight="Bold" Margin="0,0,0,10">
                                    <Run Text="{Binding Category.Name}" FontWeight="Bold"/>
                                    <Run Text=" | "/>
                                    <Run Text="{Binding Name}" FontWeight="Bold"/>
                                </TextBlock>

                                <TextBlock Text="{Binding Description}" 
                                           TextWrapping="Wrap" 
                                           Margin="0,0,0,5"/>
                                <TextBlock>
                                    <Run Text="Производитель: " FontWeight="Bold"/>
                                    <Run Text="{Binding Manufacturer.Name}"/>
                                </TextBlock>
                                <TextBlock>
                                    <Run Text="Поставщик: " FontWeight="Bold"/>
                                    <Run Text="{Binding Providers.Name}"/>
                                </TextBlock>
                                <TextBlock>
                                    <Run Text="Цена: " FontWeight="Bold"/>
                                    <Run Text="{Binding Price, StringFormat={}{0} руб.}"/>
                                </TextBlock>
                                <TextBlock>
                                    <Run Text="Единица измерения: " FontWeight="Bold"/>
                                    <Run Text="{Binding UnitOfMeasurement.Name}"/>
                                </TextBlock>
                                <TextBlock>
                                    <Run Text="Количество на складе: " FontWeight="Bold"/>
                                    <Run Text="{Binding Count}"/>
                                </TextBlock>
                            </StackPanel>

                            <!-- Скидка -->
                            <Border Grid.Column="2" 
                                    Background="Gold" 
                                    BorderBrush="DarkOrange" 
                                    BorderThickness="2" 
                                    Padding="15,10"
                                    VerticalAlignment="Center"
                                    Margin="10,0,0,0">
                                <TextBlock Text="Действующая скидка" 
                                           FontWeight="Bold"
                                           TextAlignment="Center"
                                           FontSize="12"/>
                            </Border>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!-- Сообщение если нет данных -->
        <TextBlock x:Name="NoDataText" 
                   Text="Нет данных для отображения" 
                   FontSize="18" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   Visibility="Collapsed"/>
    </Grid>
</Window>